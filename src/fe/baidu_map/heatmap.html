<!DOCTYPE html>
<html lang="en">
<head>
<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
    <script type="text/javascript" src="../libs/heatmap.js"></script>
    <style>
    .heatmap{
      width: 840px;
      height: 400px;
    }
    </style>
</head>
<body>
    <div class="heatmap"></div>

</body>
</html>
<script type="text/javascript">
    // minimal heatmap instance configuration
    var heatmapInstance = h337.create({
      // only container is required, the rest will be defaults
      container: document.querySelector('.heatmap'),
      // backgroundColor to cover transparent areas
      backgroundColor: 'rgba(0,0,0,.95)',
      // custom gradient colors
      gradient: {
        // enter n keys between 0 and 1 here
        // for gradient color customization
        '.5': 'blue',
        '.8': 'red',
        '.95': 'white'
      },
      // the maximum opacity (the value with the highest intensity will have it)
      maxOpacity: .9,
      // minimum opacity. any value > 0 will produce
      // no transparent gradient transition
      minOpacity: .3
    });

    // now generate some random data
    var points = [];
    var max = 10;
    var width = 840;
    var height = 400;
    var len = 200;

    while (len--) {
      var val = Math.floor(Math.random()*100);
      max = Math.max(max, val);
      var point = {
        x: Math.floor(Math.random()*width),
        y: Math.floor(Math.random()*height),
        value: val
      };
      points.push(point);
    }

    var points =[

    {"lng":"116.123421","lat":"39.612715","count":"110"},

    ];

    (function(ps){
      for( i in ps){
        p = ps[i];
        p.x = parseInt(p.lng);
        p.y = parseInt(p.lat);
        p.value = parseInt(p.count);
      }
    })(points);

    // heatmap data format
    var data = {
      max: max,
      data: points
    };
    // if you have a set of datapoints always use setData instead of addData
    // for data initialization
    heatmapInstance.setData(data);
</script>
</body>
</html>
